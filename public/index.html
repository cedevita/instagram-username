<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Instagram Username - Check Availability</title>
    <meta
      name="description"
      content="Instagram Username Availability Checker is a free tool to check if an Instagram username is available."
    />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <style media="screen">
      body {
        background: #eceff1;
        color: rgba(0, 0, 0, 0.87);
        font-family: Roboto, Helvetica, Arial, sans-serif;
        margin: 0;
        padding: 0;
        border-top: 4px solid #ffa100;
      }
      #message {
        background: white;
        max-width: 600px;
        margin: 100px auto 16px;
        padding: 32px 24px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      #message h1 {
        font-size: 22px;
        font-weight: 300;
        color: rgba(0, 0, 0, 0.6);
        margin: 0 0 40px;
        text-align: center;
      }
      #message p {
        line-height: 140%;
        margin: 16px 0 24px;
        font-size: 14px;
      }
      .disclaimer {
        color: rgba(0, 0, 0, 0.4);
        text-align: center;
        font-size: 13px;
      }
      .copy {
        display: flex;
        justify-content: center;
        align-items: center;
        color: rgba(0, 0, 0, 0.4);
        font-size: 13px;
      }
      .copy a {
        margin: 0 5px;
        color: rgba(0, 0, 0, 0.4);
      }
      @media (max-width: 600px) {
        body,
        #message {
          margin-top: 0;
          background: white;
          box-shadow: none;
        }
      }
      .status {
        padding: 10px 0;
        margin: 10px 0;
      }

      .button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 320px;
        text-align: center;
        background: #039be5;
        text-transform: uppercase;
        text-decoration: none;
        color: white;
        padding: 16px;
        border-radius: 5px;
        border: none;
        outline: none;
      }
      .button:disabled {
        pointer-events: none;
        cursor: not-allowed;
        background: #bebebe;
      }
      .input-username {
        height: 30px;
        width: 300px;
        font-size: 18px;
        line-height: 18px;
        padding: 5px 10px;
        border: 1px solid #b3b3b3;
        border-radius: 5px;
      }
      .input-username:not(:placeholder-shown):not(:focus):invalid {
        border-color: red;
      }
      .circle {
        display: inline-flex;
        height: 8px;
        width: 8px;
        border-radius: 50%;
        margin: 0 7px;
      }
      .circle.green {
        background-color: green;
      }
      .circle.red {
        background-color: red;
      }
      .circle.gray {
        background-color: gray;
      }
      .spinner-wrapper {
        position: relative;
        margin: 0 10px;
        height: 20px;
        width: 20px;
        display: inline-block;
      }

      .spinner {
        position: absolute;
        width: 12px;
        height: 12px;
        border: 4px solid gray;
        border-right-color: transparent;
        border-radius: 50%;
        display: inline-block;
        animation: rotate 750ms infinite;
      }

      .status {
        display: flex;
        flex-direction: row;
        align-items: center;
      }
      .status-label {
        color: #b3b3b3;
        text-transform: uppercase;
        font-size: 12px;
      }
      .status-message {
        display: flex;
        flex-direction: row;
        align-items: center;
        font-weight: bold;
      }
      .status-message.hidden {
        display: none;
      }

      @keyframes rotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-functions.js"></script>
    <meta
      name="google-site-verification"
      content="gwkq45t-LyUlkQ9JsC47Nc8rXneQmddH__z-mWZlEcU"
    />
    <!-- Google Tag Manager -->
    <script>
      (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-PVMFCTD");
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-PVMFCTD"
        height="0"
        width="0"
        style="display:none;visibility:hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <form id="message" onsubmit="return false">
      <h1>Check Instagram Username Availability</h1>
      <input
        id="username"
        type="text"
        name="username"
        title="Username must contain only letters, numbers, periods and underscores. Min 3, max 30 chars"
        class="input-username"
        minlength="3"
        maxlength="30"
        required
        placeholder="username"
        pattern="[A-Za-z0-9_](?:(?:[A-Za-z0-9_]|(?:\.(?!\.))){0,28}(?:[A-Za-z0-9_]))"
        onKeyup="onInputChange(event)"
      />

      <div class="status">
        <span class="status-label">STATUS</span>
        <div class="status-message hidden" id="status-ok">
          <span class="circle green"></span>
          Available
        </div>
        <div class="status-message hidden" id="status-error">
          <span class="circle red"></span>
          Not Available
        </div>
        <div class="status-message" id="status-pending">
          <span class="circle gray"></span>
          Not Tested
        </div>
        <div class="status-message hidden" id="status-loading">
            <div class="spinner-wrapper">
                <span class="spinner"></span>
            </div>
          Loading
        </div>
      </div>
      <input id="submit" type="submit" class="button" value="Check" disabled onclick="handleSubmit()" />
    </form>
    <p class="disclaimer">Please note that this website is not affiliated, associated, authorized, endorsed by,<br> or in any way officially connected with Instagram.</p>
    <div class="copy">
      Feel free to <a href="mailto:hello@instagram-username.com">say hello</a>
      <a href="https://github.com/cedevita/instagram-username" target="_blank" rel="noopener noreferrer">
        <img width="20" height="20" src="/github-icon.svg" alt="Instagram Username Github">
      </a>
    </div>

    <script>
      const firebaseConfig = {
        apiKey: 'AIzaSyBvf19tHXWFBt7rA0K6uG21uHPQodzlfSc',
        authDomain: 'instagram-username.firebaseapp.com',
        projectId: 'instagram-username',
        databaseURL: 'https://instagram-username.firebaseio.com',
      };
      firebase.initializeApp(firebaseConfig);
      const check = firebase.functions().httpsCallable('check_internal');

      const input = document.getElementById("username");
      const submit = document.getElementById("submit");
      const result = document.getElementById("result");
      const statusOk = document.getElementById("status-ok");
      const statusError = document.getElementById("status-error");
      const statusPending = document.getElementById("status-pending");
      const statusLoading = document.getElementById("status-loading");

      function onInputChange(e) {
        const key = e.which || e.keyCode;
        if (key === 13) {
          // Enter key pressed
          return handleSubmit();
        }

        submit.disabled = !document.getElementById("username").validity.valid;
        setStatusPending();
      }

      function setStatusOk() {
        submit.disabled = false;
        statusPending.classList.add("hidden");
        statusError.classList.add("hidden");
        statusLoading.classList.add("hidden");
        statusOk.classList.remove("hidden");
      }

      function setStatusError() {
        submit.disabled = false;
        statusPending.classList.add("hidden");
        statusOk.classList.add("hidden");
        statusLoading.classList.add("hidden");
        statusError.classList.remove("hidden");
      }

      function setStatusPending() {
        statusPending.classList.remove("hidden");
        statusOk.classList.add("hidden");
        statusError.classList.add("hidden");
        statusLoading.classList.add("hidden");
      }

      function setStatusLoading() {
        submit.disabled = true;
        statusPending.classList.add("hidden");
        statusOk.classList.add("hidden");
        statusError.classList.add("hidden");
        statusLoading.classList.remove("hidden");
      }

      async function handleSubmit() {
        setStatusLoading();

        try {
          const {value} = document.getElementById("username");
          const result = await check({text: value});
          result.data ? setStatusOk() : setStatusError();
        } catch (error) {
          const { message = "Unknown error occurred."} = error;
          setStatusError(message);
        }
      }
    </script>
  </body>
</html>
